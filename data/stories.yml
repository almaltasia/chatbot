version: "3.1"

stories:
  - story: Complete report submission flow
    steps:
      - intent: report_case
      - action: utter_report_starts
      - intent: affirm
      - action: utter_report_started
      - action: report_form
      - active_loop: report_form
      - slot_was_set:
          - requested_slot: null
      - active_loop: null
      - action: action_submit_report
      - action: utter_report_submitted
      - action: utter_followup
      - action: utter_support

  - story: Report flow with disability details
    steps:
      - intent: report_case
      - action: utter_report_starts
      - intent: affirm
      - action: utter_report_started
      - action: report_form
      - slot_was_set:
          - disability: Ya
      - action: utter_ask_disability_details
      - intent: inform
        entities:
          - disability: "Ya, tuna netra"
      - action: report_form
      - active_loop: report_form
      - slot_was_set:
          - requested_slot: null
      - active_loop: null
      - action: action_submit_report
      - action: utter_report_submitted
      - action: utter_followup

  - story: Report flow with other reason
    steps:
      - intent: report_case
      - action: utter_report_starts
      - intent: affirm
      - action: utter_report_started
      - action: report_form
      - slot_was_set:
          - report_reasons: "1,3,5"
      - action: utter_ask_other_reason
      - intent: inform
        entities:
          - other_reason: "Saya ingin kejadian ini tercatat secara resmi"
      - action: report_form
      - active_loop: report_form
      - slot_was_set:
          - requested_slot: null
      - active_loop: null
      - action: action_submit_report
      - action: utter_report_submitted
      - action: utter_followup

